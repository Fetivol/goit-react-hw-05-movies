{"version":3,"file":"static/js/937.7ce543ee.chunk.js","mappings":"sSAEMA,E,OAAMC,EAAAA,OAAa,CACvBC,QAAS,+BACTC,OAAQ,CACNC,QAAS,mCACTC,SAAU,WAIP,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,6GAEoBN,EAAIO,IAAI,uBAF5B,UAGqB,OADlBC,EAFH,QAGUC,OAHV,sBAIK,IAAIC,MAAMF,EAASC,QAJxB,gCAMID,EAASG,MANb,sCAQHC,QAAQC,MAAR,MARG,qFAaA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAAgCC,GAAhC,gGAEoBf,EAAIO,IAAI,gBAAiB,CAC9CJ,OAAQY,IAHP,UAKqB,OAHlBP,EAFH,QAKUC,OALV,sBAMK,IAAIC,MAAMF,EAASC,QANxB,gCAQID,EAASG,MARb,sCAUHC,QAAQC,MAAR,MAVG,qFAeA,SAAeG,EAAtB,+CAAO,OAAP,oBAAO,WAA0BC,GAA1B,gGAEoBjB,EAAIO,IAAJ,iBAAkBU,IAFtC,UAGqB,OADlBT,EAFH,QAGUC,OAHV,sBAIK,IAAIC,MAAMF,EAASC,QAJxB,gCAMID,EAASG,MANb,sCAQHC,QAAQC,MAAR,MARG,qFAaA,SAAeK,EAAtB,+CAAO,OAAP,oBAAO,WAA8BD,GAA9B,gGAEoBjB,EAAIO,IAAJ,iBAAkBU,EAAlB,aAFpB,UAGqB,OADlBT,EAFH,QAGUC,OAHV,sBAIK,IAAIC,MAAMF,EAASC,QAJxB,gCAMID,EAASG,MANb,sCAQHC,QAAQC,MAAR,MARG,qFAYA,SAAeM,EAAtB,+CAAO,OAAP,oBAAO,WAAiCF,GAAjC,gGAEoBjB,EAAIO,IAAJ,iBAAkBU,EAAlB,aAFpB,UAGqB,OADlBT,EAFH,QAGUC,OAHV,sBAIK,IAAIC,MAAMF,EAASC,QAJxB,gCAMID,EAASG,MANb,sCAQHC,QAAQC,MAAR,MARG,qF,oFC7DMO,EAAa,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACrBC,GAAWC,EAAAA,EAAAA,MACjB,OACE,wBACGF,EAAOG,KAAI,YAAoB,IAAjBC,EAAgB,EAAhBA,GAAIC,EAAY,EAAZA,MACjB,OACE,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaF,GAAMG,MAAO,CAAEC,KAAMP,GAA1C,SACGI,KAFID,EAMZ,KAGN,C,sICjBYK,EAAY,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC1B,OACE,kBAAMA,SAAUA,EAAhB,WACE,kBAAOC,KAAK,OAAOC,KAAK,QAAQC,aAAa,uBAC7C,mBAAQF,KAAK,SAAb,sBAGL,E,iBCsCD,EAxCe,WAAO,IAAD,EACnB,GAA4BG,EAAAA,EAAAA,UAAS,IAArC,eAAOd,EAAP,KAAee,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAK,UAAGF,EAAa/B,IAAI,gBAApB,QAAgC,IAE3CkC,EAAAA,EAAAA,YAAU,WAAM,wCACd,yFACOD,EADP,iEAKUzB,EAAc,CAAEyB,MAAAA,GAL1B,UAMyB1B,EAAAA,EAAAA,IAAiBC,GAN1C,OAMUM,EANV,OAOIe,EAAUf,EAAOqB,SAPrB,kDASI9B,QAAQC,MAAR,MATJ,uGADc,uBAAC,WAAD,wBAcd8B,EACD,GAAE,CAACH,IAYJ,OACE,4BACE,SAACV,EAAD,CAAWC,SAZM,SAAAa,GACnBA,EAAIC,iBACJ,IAAMC,EAAcF,EAAIG,cAAcC,SAASR,MAAMS,MACjC,KAAhBH,IAGJP,EAAgB,CAAEC,MAAOM,IACzBF,EAAIG,cAAcG,QACnB,KAKG,SAAC9B,EAAA,EAAD,CAAYC,OAAQA,MAGzB,C","sources":["Api.js","components/MoviesList/MoviesList.js","components/SearchBar/SearchBar.js","pages/Movies.js"],"sourcesContent":["import axios from 'axios';\n\nconst API = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: '31e4aa16d394f964079920d6173ce10a',\n    language: 'en-US',\n  },\n});\n\nexport async function fetchTopMovies() {\n  try {\n    const response = await API.get('/trending/movie/day');\n    if (response.status !== 200) {\n      throw new Error(response.status);\n    }\n    return response.data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}\n\nexport async function fetchQueryMovies(queryParams) {\n  try {\n    const response = await API.get('/search/movie', {\n      params: queryParams,\n    });\n    if (response.status !== 200) {\n      throw new Error(response.status);\n    }\n    return response.data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}\n\nexport async function fetchMovie(movie_id) {\n  try {\n    const response = await API.get(`/movie/${movie_id}`);\n    if (response.status !== 200) {\n      throw new Error(response.status);\n    }\n    return response.data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}\n\nexport async function fetchMovieCast(movie_id) {\n  try {\n    const response = await API.get(`/movie/${movie_id}/credits`);\n    if (response.status !== 200) {\n      throw new Error(response.status);\n    }\n    return response.data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}\nexport async function fetchMovieReviews(movie_id) {\n  try {\n    const response = await API.get(`/movie/${movie_id}/reviews`);\n    if (response.status !== 200) {\n      throw new Error(response.status);\n    }\n    return response.data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}\n","import { Link, useLocation } from 'react-router-dom';\n\nexport const MoviesList = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <ul>\n      {movies.map(({ id, title }) => {\n        return (\n          <li key={id}>\n            <Link to={`/movies/${id}`} state={{ from: location }}>\n              {title}\n            </Link>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n","export const SearchBar = ({ onSubmit }) => {\n  return (\n    <form onSubmit={onSubmit}>\n      <input type=\"text\" name=\"query\" placecholder=\"search your movie\"></input>\n      <button type=\"submit\">Search</button>\n    </form>\n  );\n};\n","import { MoviesList } from 'components/MoviesList/MoviesList';\nimport { fetchQueryMovies } from '../Api';\nimport { SearchBar } from 'components/SearchBar/SearchBar';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    async function fetchMoviesList() {\n      if (!query) {\n        return;\n      }\n      try {\n        const queryParams = { query };\n        const movies = await fetchQueryMovies(queryParams);\n        setMovies(movies.results);\n      } catch (error) {\n        console.error(error);\n      } finally {\n      }\n    }\n    fetchMoviesList();\n  }, [query]);\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    const queryString = evt.currentTarget.elements.query.value;\n    if (queryString === '') {\n      return;\n    }\n    setSearchParams({ query: queryString });\n    evt.currentTarget.reset();\n  };\n\n  return (\n    <div>\n      <SearchBar onSubmit={handleSubmit} />\n      <MoviesList movies={movies} />\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["API","axios","baseURL","params","api_key","language","fetchTopMovies","get","response","status","Error","data","console","error","fetchQueryMovies","queryParams","fetchMovie","movie_id","fetchMovieCast","fetchMovieReviews","MoviesList","movies","location","useLocation","map","id","title","to","state","from","SearchBar","onSubmit","type","name","placecholder","useState","setMovies","useSearchParams","searchParams","setSearchParams","query","useEffect","results","fetchMoviesList","evt","preventDefault","queryString","currentTarget","elements","value","reset"],"sourceRoot":""}